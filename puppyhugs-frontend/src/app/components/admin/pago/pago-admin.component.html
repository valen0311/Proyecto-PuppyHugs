<div class="header">
  <h1>Registro Manual de Pagos</h1>
</div>

<div class="container">

  <div *ngIf="successMessage" class="success-backend">
    <strong>Éxito:</strong> {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" class="error-backend">
    <strong>Error:</strong> {{ errorMessage }}
  </div>

  <section class="form-container">
    <h2>Procesar Nuevo Pago</h2>

    <form [formGroup]="pagoForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="pedidoId">ID del Pedido (Venta):</label>
        <input id="pedidoId" type="number" formControlName="pedidoId" placeholder="Ej: 105">
        <div *ngIf="pagoForm.controls['pedidoId'].invalid && (pagoForm.controls['pedidoId'].dirty || pagoForm.controls['pedidoId'].touched)" class="error-message">
          <span *ngIf="pagoForm.controls['pedidoId'].errors?.['required']">
            El ID del pedido es obligatorio.
          </span>
          <span *ngIf="pagoForm.controls['pedidoId'].errors?.['min']">
            El ID debe ser un número positivo.
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="montoTotal">Monto Total:</label>
        <input id="montoTotal" type="number" step="0.01" formControlName="montoTotal" placeholder="Ej: 50.00">
        <div *ngIf="pagoForm.controls['montoTotal'].invalid && (pagoForm.controls['montoTotal'].dirty || pagoForm.controls['montoTotal'].touched)" class="error-message">
          <span *ngIf="pagoForm.controls['montoTotal'].errors?.['required']">
            El monto es obligatorio.
          </span>
          <span *ngIf="pagoForm.controls['montoTotal'].errors?.['min']">
            El monto debe ser mayor a 0.
          </span>
        </div>
      </div>

      <div class="form-group">
        <label for="metodoPago">Método de Pago:</label>
        <select id="metodoPago" formControlName="metodoPago">
          <option *ngFor="let metodo of metodosDePago" [value]="metodo">
            {{ metodo }}
          </option>
        </select>
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="pagoForm.invalid" class="submit-btn">
          Registrar Pago
        </button>
      </div>

    </form>
  </section>

</div>
